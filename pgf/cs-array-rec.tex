%% Slides for ".NET Programming" by Chunyu Wang <chunyu@hit.edu.cn> %% $Rev$

\begin{tikzpicture}[rounded corners, >=stealth]
\fill[yellow!40,fill opacity=.4] (0,-.1) rectangle +(8.5,4.45);
\draw (2.25,0) rectangle +(6,4.25);
\draw (.25,0) rectangle +(1.5,3);

\draw (5,3.75) node {ÍÐ¹Ü¶Ñ} (1,2.75) node {ÍÐ¹ÜÕ»};

\fill[fill=blue!20,sharp corners,shift={(2.5,1.5)}] (0,0) rectangle +(1.5,2);
\fill[fill=blue!20,sharp corners,shift={(4.5,1.5)}] (0,0) rectangle +(1.5,1.5);
\fill[fill=blue!20,sharp corners,shift={(6.5,1.5)}] (0,0) rectangle +(1.5,2.5);
\fill[fill=red!20,sharp corners,shift={(3,.25)}]    (0,0) rectangle +(4.5,.5);

\draw[xstep=1.5cm,ystep=.5cm, sharp corners,shift={(2.5,1.5)}] (0,0) grid +(1.5,2);
\draw[xstep=1.5cm,ystep=.5cm, sharp corners,shift={(4.5,1.5)}] (0,0) grid +(1.5,1.5);
\draw[xstep=1.5cm,ystep=.5cm, sharp corners,shift={(6.5,1.5)}] (0,0) grid +(1.5,2.5);
\draw[xstep=1.5cm,ystep=.5cm, sharp corners,shift={(3,.25)}]   (0,0) grid +(4.5,.5);

\foreach \a/\b in {3.75/3.25, 5.25/5.25, 6.75/7.25}
\draw[->] (\a,.75) .. controls +(up:.5cm) and +(down:.5cm) .. (\b,1.5);

\filldraw[fill=red!20, sharp corners] (.25, .75) rectangle +(1.5,.5) 
  (1,1) node {\footnotesize\texttt{z}};
\draw[->] (1.75, 1) .. controls +(right:.5cm) and +(left:.5cm) .. (3,.5);

\foreach \a/\b in {3.75/z[0], 5.25/z[1], 6.75/z[2]} 
\draw (\a,.5) node {\footnotesize\texttt{\b}};

\foreach \a in {0,1,...,3}
\draw  (3.25,1.75) +(0cm, .5cm*\a) node {\footnotesize\texttt{z[0][\a]}};
\foreach \a in {0,1,...,2}
\draw  (5.25,1.75) +(0cm, .5cm*\a) node {\footnotesize\texttt{z[1][\a]}};
\foreach \a in {0,1,...,4}
\draw  (7.25,1.75) +(0cm, .5cm*\a) node {\footnotesize\texttt{z[2][\a]}};
\end{tikzpicture}
